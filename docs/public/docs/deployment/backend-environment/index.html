<!doctype html><html lang=en-us dir=ltr><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content='
  Backend and Worker Environment Variables
  #

NewsFeed&rsquo;s backend services (API and worker) are configured using environment variables. This page documents all available environment variables and their purpose.

  Configuration Categories
  #

The backend environment variables are organized into several categories:

Core Configuration: Basic settings for the backend services
Database Configuration: PostgreSQL connection settings
Redis Configuration: Redis connection settings
FreshRSS Configuration: Settings for the FreshRSS integration
Worker Configuration: Settings for the Celery worker and tasks
Authentication Configuration: Casdoor authentication settings


  Core Configuration
  #


  
      
          Variable
          Description
          Default Value
      
  
  
      
          BACKEND_DEBUG
          Enable debug mode for the backend
          "false"
      
      
          TIMEZONE
          Timezone for date/time operations
          "UTC"
      
      
          THUMBNAIL_DIR
          Directory to store article thumbnails
          "/thumbnails"
      
  


  Database Configuration
  #


  
      
          Variable
          Description
          Default Value
      
  
  
      
          POSTGRES_USER
          PostgreSQL username
          "postgres"
      
      
          POSTGRES_PASSWORD
          PostgreSQL password
          "postgres"
      
      
          POSTGRES_DB
          PostgreSQL database name
          "newsfeed"
      
      
          POSTGRES_HOST
          PostgreSQL host address
          "db"
      
      
          POSTGRES_PORT
          PostgreSQL port
          "5432"
      
  


  Redis Configuration
  #


  
      
          Variable
          Description
          Default Value
      
  
  
      
          REDIS_URL
          Redis connection URL
          "redis://redis:6379/0"
      
  


  FreshRSS Configuration
  #


  FreshRSS GReader API
  #


  
      
          Variable
          Description
          Default Value
      
  
  
      
          FRESHRSS_GREADER_API_URL
          FreshRSS GReader API URL
          None
      
      
          FRESHRSS_GREADER_API_USER
          FreshRSS GReader API username
          None
      
      
          FRESHRSS_GREADER_API_PASSWORD
          FreshRSS GReader API password
          None
      
  


  FreshRSS Python API
  #


  
      
          Variable
          Description
          Default Value
      
  
  
      
          FRESHRSS_PYTHON_API_HOST
          FreshRSS Python API host
          None
      
      
          FRESHRSS_PYTHON_API_USERNAME
          FreshRSS Python API username
          None
      
      
          FRESHRSS_PYTHON_API_PASSWORD
          FreshRSS Python API password
          None
      
      
          FRESHRSS_PYTHON_API_VERIFY_SSL
          Verify SSL certificates
          "true"
      
  


  FreshRSS Proxy API
  #


  
      
          Variable
          Description
          Default Value
      
  
  
      
          FRESHRSS_PROXY_API_URL
          FreshRSS Proxy API URL
          None
      
      
          FRESHRSS_PROXY_API_KEY
          FreshRSS Proxy API key
          None
      
  


  Worker Configuration
  #


  Task Scheduling
  #


  
      
          Variable
          Description
          Default Value
      
  
  
      
          WORKER_PROCESS_ARTICLES_INTERVAL
          How often to process articles (minutes)
          15
      
      
          WORKER_PURGE_OLD_ARTICLES_INTERVAL
          How often to purge old articles (minutes)
          1440 (24 hours)
      
      
          WORKER_ENRICH_ARTICLES_INTERVAL
          How often to enrich articles (minutes)
          60 (1 hour)
      
  


  Article Fetching and Retention
  #


  
      
          Variable
          Description
          Default Value
      
  
  
      
          WORKER_FRESHRSS_FETCH_LIMIT
          Maximum articles to fetch per batch
          100
      
      
          WORKER_CONCURRENT_FRESHRSS_FETCH_TASKS
          Number of concurrent fetch tasks
          1
      
      
          WORKER_FRESHRSS_FETCH_DAYS
          Number of days to fetch articles from
          3
      
      
          WORKER_FRESHRSS_PURGE_NUM_DAYS_TO_KEEP
          Number of days to keep articles
          7
      
  


  Worker Performance
  #


  
      
          Variable
          Description
          Default Value
      
  
  
      
          WORKER_TASK_TIME_LIMIT
          Maximum task runtime (seconds)
          300 (5 minutes)
      
      
          WORKER_SOFT_TIME_LIMIT
          Soft time limit for tasks (seconds)
          240 (4 minutes)
      
      
          WORKER_MAX_TASKS_PER_CHILD
          Tasks per worker before replacement
          100
      
      
          WORKER_MAX_MEMORY_PER_CHILD
          Memory limit per worker (KB)
          200000 (200MB)
      
      
          WORKER_PREFETCH_MULTIPLIER
          Tasks to prefetch per worker
          1
      
  


  AI Configuration
  #


  
      
          Variable
          Description
          Default Value
      
  
  
      
          OLLAMA_URL
          URL of the Ollama server
          "http://ollama:11434"
      
      
          OLLAMA_MODEL
          AI model to use for categorization
          "LLAMA3.2:3B"
      
  


  Authentication Configuration
  #


  
      
          Variable
          Description
          Default Value
      
  
  
      
          CASDOOR_ENDPOINT
          Casdoor server URL
          "http://casdoor:8000"
      
      
          CASDOOR_CLIENT_ID
          Casdoor client ID
          None
      
      
          CASDOOR_CLIENT_SECRET
          Casdoor client secret
          None
      
      
          CASDOOR_ORG
          Casdoor organization name
          "newsfeed"
      
      
          CASDOOR_APP_NAME
          Casdoor application name
          "newsfeed"
      
      
          CASDOOR_CERT_PUBLIC_KEY
          Casdoor public key for JWT verification
          None
      
  


  Example Configuration
  #

Here&rsquo;s an example of a complete backend environment configuration file:'><meta name=theme-color media="(prefers-color-scheme: light)" content="#ffffff"><meta name=theme-color media="(prefers-color-scheme: dark)" content="#343a40"><meta name=color-scheme content="light dark"><meta property="og:url" content="/docs/docs/deployment/backend-environment/"><meta property="og:site_name" content="NewsFeed Documentation"><meta property="og:title" content="Backend Environment Variables"><meta property="og:description" content='Backend and Worker Environment Variables # NewsFeed’s backend services (API and worker) are configured using environment variables. This page documents all available environment variables and their purpose.
Configuration Categories # The backend environment variables are organized into several categories:
Core Configuration: Basic settings for the backend services Database Configuration: PostgreSQL connection settings Redis Configuration: Redis connection settings FreshRSS Configuration: Settings for the FreshRSS integration Worker Configuration: Settings for the Celery worker and tasks Authentication Configuration: Casdoor authentication settings Core Configuration # Variable Description Default Value BACKEND_DEBUG Enable debug mode for the backend "false" TIMEZONE Timezone for date/time operations "UTC" THUMBNAIL_DIR Directory to store article thumbnails "/thumbnails" Database Configuration # Variable Description Default Value POSTGRES_USER PostgreSQL username "postgres" POSTGRES_PASSWORD PostgreSQL password "postgres" POSTGRES_DB PostgreSQL database name "newsfeed" POSTGRES_HOST PostgreSQL host address "db" POSTGRES_PORT PostgreSQL port "5432" Redis Configuration # Variable Description Default Value REDIS_URL Redis connection URL "redis://redis:6379/0" FreshRSS Configuration # FreshRSS GReader API # Variable Description Default Value FRESHRSS_GREADER_API_URL FreshRSS GReader API URL None FRESHRSS_GREADER_API_USER FreshRSS GReader API username None FRESHRSS_GREADER_API_PASSWORD FreshRSS GReader API password None FreshRSS Python API # Variable Description Default Value FRESHRSS_PYTHON_API_HOST FreshRSS Python API host None FRESHRSS_PYTHON_API_USERNAME FreshRSS Python API username None FRESHRSS_PYTHON_API_PASSWORD FreshRSS Python API password None FRESHRSS_PYTHON_API_VERIFY_SSL Verify SSL certificates "true" FreshRSS Proxy API # Variable Description Default Value FRESHRSS_PROXY_API_URL FreshRSS Proxy API URL None FRESHRSS_PROXY_API_KEY FreshRSS Proxy API key None Worker Configuration # Task Scheduling # Variable Description Default Value WORKER_PROCESS_ARTICLES_INTERVAL How often to process articles (minutes) 15 WORKER_PURGE_OLD_ARTICLES_INTERVAL How often to purge old articles (minutes) 1440 (24 hours) WORKER_ENRICH_ARTICLES_INTERVAL How often to enrich articles (minutes) 60 (1 hour) Article Fetching and Retention # Variable Description Default Value WORKER_FRESHRSS_FETCH_LIMIT Maximum articles to fetch per batch 100 WORKER_CONCURRENT_FRESHRSS_FETCH_TASKS Number of concurrent fetch tasks 1 WORKER_FRESHRSS_FETCH_DAYS Number of days to fetch articles from 3 WORKER_FRESHRSS_PURGE_NUM_DAYS_TO_KEEP Number of days to keep articles 7 Worker Performance # Variable Description Default Value WORKER_TASK_TIME_LIMIT Maximum task runtime (seconds) 300 (5 minutes) WORKER_SOFT_TIME_LIMIT Soft time limit for tasks (seconds) 240 (4 minutes) WORKER_MAX_TASKS_PER_CHILD Tasks per worker before replacement 100 WORKER_MAX_MEMORY_PER_CHILD Memory limit per worker (KB) 200000 (200MB) WORKER_PREFETCH_MULTIPLIER Tasks to prefetch per worker 1 AI Configuration # Variable Description Default Value OLLAMA_URL URL of the Ollama server "http://ollama:11434" OLLAMA_MODEL AI model to use for categorization "LLAMA3.2:3B" Authentication Configuration # Variable Description Default Value CASDOOR_ENDPOINT Casdoor server URL "http://casdoor:8000" CASDOOR_CLIENT_ID Casdoor client ID None CASDOOR_CLIENT_SECRET Casdoor client secret None CASDOOR_ORG Casdoor organization name "newsfeed" CASDOOR_APP_NAME Casdoor application name "newsfeed" CASDOOR_CERT_PUBLIC_KEY Casdoor public key for JWT verification None Example Configuration # Here’s an example of a complete backend environment configuration file:'><meta property="og:locale" content="en_us"><meta property="og:type" content="article"><meta property="article:section" content="docs"><title>Backend Environment Variables | NewsFeed Documentation</title><link rel=icon href=/docs/favicon.png><link rel=manifest href=/docs/manifest.json><link rel=canonical href=/docs/docs/deployment/backend-environment/><link rel=stylesheet href=/docs/book.min.27c601ff251cc5c9796bb272aace960013cf351d0c28a7e1301487b32d4800ee.css><script defer src=/docs/fuse.min.js></script><script defer src=/docs/en.search.min.50f06386365de8f89d841b8d0b503999b6a546355a068584d4f6d56087201672.js></script></head><body dir=ltr><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><div class=book-menu-content><nav><h2 class=book-brand><a class="flex align-center" href=/docs/><img src=/docs/logo.png alt=Logo class=book-icon><span>NewsFeed Documentation</span></a></h2><div class="book-search hidden"><input type=text id=book-search-input placeholder=Search aria-label=Search maxlength=64 data-hotkeys=s/><div class="book-search-spinner hidden"></div><ul id=book-search-results></ul></div><script>document.querySelector(".book-search").classList.remove("hidden")</script><ul><li><input type=checkbox id=section-1bd881b6f3674bdbe6a5832f365e2cc1 class=toggle>
<label for=section-1bd881b6f3674bdbe6a5832f365e2cc1 class=flex><a href=/docs/docs/frontend/ class=flex-auto>Frontend Usage Guide</a></label><ul></ul></li><li><input type=checkbox id=section-e2abcc6bc653a4ad229e66aa778ea8ce class=toggle>
<label for=section-e2abcc6bc653a4ad229e66aa778ea8ce class=flex><a href=/docs/docs/admin/ class=flex-auto>Admin Dashboard Guide</a></label><ul></ul></li><li><input type=checkbox id=section-89295e3ad87cd739e9ae7938c36f5572 class=toggle>
<label for=section-89295e3ad87cd739e9ae7938c36f5572 class=flex><a href=/docs/docs/backend/ class=flex-auto>Backend API Documentation</a></label><ul></ul></li><li><input type=checkbox id=section-193dd47a9b08cf6c33639b07114fafa0 class=toggle>
<label for=section-193dd47a9b08cf6c33639b07114fafa0 class=flex><a href=/docs/docs/worker/ class=flex-auto>Worker Tasks</a></label><ul></ul></li><li><input type=checkbox id=section-ded1921c1a8aa8969511130d8fba8cc0 class=toggle>
<label for=section-ded1921c1a8aa8969511130d8fba8cc0 class=flex><a href=/docs/docs/authentication/ class=flex-auto>Authentication</a></label><ul></ul></li><li><input type=checkbox id=section-83334284bc70767f5442a76139afa498 class=toggle checked>
<label for=section-83334284bc70767f5442a76139afa498 class=flex><a href=/docs/docs/deployment/ class=flex-auto>Deployment Guides</a></label><ul><li><a href=/docs/docs/deployment/docker-optimizations/>Docker Optimizations</a></li><li><a href=/docs/docs/deployment/runtime-environment/>Frontend Environment Variables</a></li><li><a href=/docs/docs/deployment/backend-environment/ class=active>Backend Environment Variables</a></li><li><a href=/docs/docs/deployment/nginx-configuration/>Nginx Configuration</a></li><li><a href=/docs/docs/deployment/ci-cd/>Continuous Integration and Deployment</a></li><li><a href=/docs/docs/deployment/git-hooks/>Git Hooks</a></li></ul></li><li><input type=checkbox id=section-f665c998950cb6dbc3aa497165a99b48 class=toggle>
<label for=section-f665c998950cb6dbc3aa497165a99b48 class=flex><a href=/docs/docs/platforms/ class=flex-auto>Platform-Specific Guides</a></label><ul></ul></li></ul></nav><script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script></div></aside><div class=book-page><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><img src=/docs/svg/menu.svg class=book-icon alt=Menu></label><h3>Backend Environment Variables</h3><label for=toc-control><img src=/docs/svg/toc.svg class=book-icon alt="Table of Contents"></label></div><aside class="hidden clearfix"><nav id=TableOfContents><ul><li><a href=#configuration-categories>Configuration Categories</a></li><li><a href=#core-configuration>Core Configuration</a></li><li><a href=#database-configuration>Database Configuration</a></li><li><a href=#redis-configuration>Redis Configuration</a></li><li><a href=#freshrss-configuration>FreshRSS Configuration</a><ul><li><a href=#freshrss-greader-api>FreshRSS GReader API</a></li><li><a href=#freshrss-python-api>FreshRSS Python API</a></li><li><a href=#freshrss-proxy-api>FreshRSS Proxy API</a></li></ul></li><li><a href=#worker-configuration>Worker Configuration</a><ul><li><a href=#task-scheduling>Task Scheduling</a></li><li><a href=#article-fetching-and-retention>Article Fetching and Retention</a></li><li><a href=#worker-performance>Worker Performance</a></li></ul></li><li><a href=#ai-configuration>AI Configuration</a></li><li><a href=#authentication-configuration>Authentication Configuration</a></li><li><a href=#example-configuration>Example Configuration</a></li><li><a href=#environment-variable-precedence>Environment Variable Precedence</a></li><li><a href=#sensitive-information>Sensitive Information</a></li><li><a href=#debugging>Debugging</a></li></ul></nav></aside></header><article class="markdown book-article"><h1 id=backend-and-worker-environment-variables>Backend and Worker Environment Variables
<a class=anchor href=#backend-and-worker-environment-variables>#</a></h1><p>NewsFeed&rsquo;s backend services (API and worker) are configured using environment variables. This page documents all available environment variables and their purpose.</p><h2 id=configuration-categories>Configuration Categories
<a class=anchor href=#configuration-categories>#</a></h2><p>The backend environment variables are organized into several categories:</p><ol><li><strong>Core Configuration</strong>: Basic settings for the backend services</li><li><strong>Database Configuration</strong>: PostgreSQL connection settings</li><li><strong>Redis Configuration</strong>: Redis connection settings</li><li><strong>FreshRSS Configuration</strong>: Settings for the FreshRSS integration</li><li><strong>Worker Configuration</strong>: Settings for the Celery worker and tasks</li><li><strong>Authentication Configuration</strong>: Casdoor authentication settings</li></ol><h2 id=core-configuration>Core Configuration
<a class=anchor href=#core-configuration>#</a></h2><table><thead><tr><th>Variable</th><th>Description</th><th>Default Value</th></tr></thead><tbody><tr><td><code>BACKEND_DEBUG</code></td><td>Enable debug mode for the backend</td><td><code>"false"</code></td></tr><tr><td><code>TIMEZONE</code></td><td>Timezone for date/time operations</td><td><code>"UTC"</code></td></tr><tr><td><code>THUMBNAIL_DIR</code></td><td>Directory to store article thumbnails</td><td><code>"/thumbnails"</code></td></tr></tbody></table><h2 id=database-configuration>Database Configuration
<a class=anchor href=#database-configuration>#</a></h2><table><thead><tr><th>Variable</th><th>Description</th><th>Default Value</th></tr></thead><tbody><tr><td><code>POSTGRES_USER</code></td><td>PostgreSQL username</td><td><code>"postgres"</code></td></tr><tr><td><code>POSTGRES_PASSWORD</code></td><td>PostgreSQL password</td><td><code>"postgres"</code></td></tr><tr><td><code>POSTGRES_DB</code></td><td>PostgreSQL database name</td><td><code>"newsfeed"</code></td></tr><tr><td><code>POSTGRES_HOST</code></td><td>PostgreSQL host address</td><td><code>"db"</code></td></tr><tr><td><code>POSTGRES_PORT</code></td><td>PostgreSQL port</td><td><code>"5432"</code></td></tr></tbody></table><h2 id=redis-configuration>Redis Configuration
<a class=anchor href=#redis-configuration>#</a></h2><table><thead><tr><th>Variable</th><th>Description</th><th>Default Value</th></tr></thead><tbody><tr><td><code>REDIS_URL</code></td><td>Redis connection URL</td><td><code>"redis://redis:6379/0"</code></td></tr></tbody></table><h2 id=freshrss-configuration>FreshRSS Configuration
<a class=anchor href=#freshrss-configuration>#</a></h2><h3 id=freshrss-greader-api>FreshRSS GReader API
<a class=anchor href=#freshrss-greader-api>#</a></h3><table><thead><tr><th>Variable</th><th>Description</th><th>Default Value</th></tr></thead><tbody><tr><td><code>FRESHRSS_GREADER_API_URL</code></td><td>FreshRSS GReader API URL</td><td>None</td></tr><tr><td><code>FRESHRSS_GREADER_API_USER</code></td><td>FreshRSS GReader API username</td><td>None</td></tr><tr><td><code>FRESHRSS_GREADER_API_PASSWORD</code></td><td>FreshRSS GReader API password</td><td>None</td></tr></tbody></table><h3 id=freshrss-python-api>FreshRSS Python API
<a class=anchor href=#freshrss-python-api>#</a></h3><table><thead><tr><th>Variable</th><th>Description</th><th>Default Value</th></tr></thead><tbody><tr><td><code>FRESHRSS_PYTHON_API_HOST</code></td><td>FreshRSS Python API host</td><td>None</td></tr><tr><td><code>FRESHRSS_PYTHON_API_USERNAME</code></td><td>FreshRSS Python API username</td><td>None</td></tr><tr><td><code>FRESHRSS_PYTHON_API_PASSWORD</code></td><td>FreshRSS Python API password</td><td>None</td></tr><tr><td><code>FRESHRSS_PYTHON_API_VERIFY_SSL</code></td><td>Verify SSL certificates</td><td><code>"true"</code></td></tr></tbody></table><h3 id=freshrss-proxy-api>FreshRSS Proxy API
<a class=anchor href=#freshrss-proxy-api>#</a></h3><table><thead><tr><th>Variable</th><th>Description</th><th>Default Value</th></tr></thead><tbody><tr><td><code>FRESHRSS_PROXY_API_URL</code></td><td>FreshRSS Proxy API URL</td><td>None</td></tr><tr><td><code>FRESHRSS_PROXY_API_KEY</code></td><td>FreshRSS Proxy API key</td><td>None</td></tr></tbody></table><h2 id=worker-configuration>Worker Configuration
<a class=anchor href=#worker-configuration>#</a></h2><h3 id=task-scheduling>Task Scheduling
<a class=anchor href=#task-scheduling>#</a></h3><table><thead><tr><th>Variable</th><th>Description</th><th>Default Value</th></tr></thead><tbody><tr><td><code>WORKER_PROCESS_ARTICLES_INTERVAL</code></td><td>How often to process articles (minutes)</td><td><code>15</code></td></tr><tr><td><code>WORKER_PURGE_OLD_ARTICLES_INTERVAL</code></td><td>How often to purge old articles (minutes)</td><td><code>1440</code> (24 hours)</td></tr><tr><td><code>WORKER_ENRICH_ARTICLES_INTERVAL</code></td><td>How often to enrich articles (minutes)</td><td><code>60</code> (1 hour)</td></tr></tbody></table><h3 id=article-fetching-and-retention>Article Fetching and Retention
<a class=anchor href=#article-fetching-and-retention>#</a></h3><table><thead><tr><th>Variable</th><th>Description</th><th>Default Value</th></tr></thead><tbody><tr><td><code>WORKER_FRESHRSS_FETCH_LIMIT</code></td><td>Maximum articles to fetch per batch</td><td><code>100</code></td></tr><tr><td><code>WORKER_CONCURRENT_FRESHRSS_FETCH_TASKS</code></td><td>Number of concurrent fetch tasks</td><td><code>1</code></td></tr><tr><td><code>WORKER_FRESHRSS_FETCH_DAYS</code></td><td>Number of days to fetch articles from</td><td><code>3</code></td></tr><tr><td><code>WORKER_FRESHRSS_PURGE_NUM_DAYS_TO_KEEP</code></td><td>Number of days to keep articles</td><td><code>7</code></td></tr></tbody></table><h3 id=worker-performance>Worker Performance
<a class=anchor href=#worker-performance>#</a></h3><table><thead><tr><th>Variable</th><th>Description</th><th>Default Value</th></tr></thead><tbody><tr><td><code>WORKER_TASK_TIME_LIMIT</code></td><td>Maximum task runtime (seconds)</td><td><code>300</code> (5 minutes)</td></tr><tr><td><code>WORKER_SOFT_TIME_LIMIT</code></td><td>Soft time limit for tasks (seconds)</td><td><code>240</code> (4 minutes)</td></tr><tr><td><code>WORKER_MAX_TASKS_PER_CHILD</code></td><td>Tasks per worker before replacement</td><td><code>100</code></td></tr><tr><td><code>WORKER_MAX_MEMORY_PER_CHILD</code></td><td>Memory limit per worker (KB)</td><td><code>200000</code> (200MB)</td></tr><tr><td><code>WORKER_PREFETCH_MULTIPLIER</code></td><td>Tasks to prefetch per worker</td><td><code>1</code></td></tr></tbody></table><h2 id=ai-configuration>AI Configuration
<a class=anchor href=#ai-configuration>#</a></h2><table><thead><tr><th>Variable</th><th>Description</th><th>Default Value</th></tr></thead><tbody><tr><td><code>OLLAMA_URL</code></td><td>URL of the Ollama server</td><td><code>"http://ollama:11434"</code></td></tr><tr><td><code>OLLAMA_MODEL</code></td><td>AI model to use for categorization</td><td><code>"LLAMA3.2:3B"</code></td></tr></tbody></table><h2 id=authentication-configuration>Authentication Configuration
<a class=anchor href=#authentication-configuration>#</a></h2><table><thead><tr><th>Variable</th><th>Description</th><th>Default Value</th></tr></thead><tbody><tr><td><code>CASDOOR_ENDPOINT</code></td><td>Casdoor server URL</td><td><code>"http://casdoor:8000"</code></td></tr><tr><td><code>CASDOOR_CLIENT_ID</code></td><td>Casdoor client ID</td><td>None</td></tr><tr><td><code>CASDOOR_CLIENT_SECRET</code></td><td>Casdoor client secret</td><td>None</td></tr><tr><td><code>CASDOOR_ORG</code></td><td>Casdoor organization name</td><td><code>"newsfeed"</code></td></tr><tr><td><code>CASDOOR_APP_NAME</code></td><td>Casdoor application name</td><td><code>"newsfeed"</code></td></tr><tr><td><code>CASDOOR_CERT_PUBLIC_KEY</code></td><td>Casdoor public key for JWT verification</td><td>None</td></tr></tbody></table><h2 id=example-configuration>Example Configuration
<a class=anchor href=#example-configuration>#</a></h2><p>Here&rsquo;s an example of a complete backend environment configuration file:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># Backend and worker configuration</span>
</span></span><span style=display:flex><span>REDIS_URL<span style=color:#f92672>=</span>redis://redis:6379/0
</span></span><span style=display:flex><span>BACKEND_DEBUG<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;false&#34;</span>
</span></span><span style=display:flex><span>TIMEZONE<span style=color:#f92672>=</span>America/New_York
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Worker Fetch Configuration</span>
</span></span><span style=display:flex><span>WORKER_FRESHRSS_FETCH_LIMIT<span style=color:#f92672>=</span><span style=color:#ae81ff>100</span>
</span></span><span style=display:flex><span>WORKER_CONCURRENT_FRESHRSS_FETCH_TASKS<span style=color:#f92672>=</span><span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>WORKER_FRESHRSS_FETCH_DAYS<span style=color:#f92672>=</span><span style=color:#ae81ff>3</span>
</span></span><span style=display:flex><span>WORKER_FRESHRSS_PURGE_NUM_DAYS_TO_KEEP<span style=color:#f92672>=</span><span style=color:#ae81ff>7</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Worker Task Scheduling</span>
</span></span><span style=display:flex><span>WORKER_PROCESS_ARTICLES_INTERVAL<span style=color:#f92672>=</span><span style=color:#ae81ff>15</span>
</span></span><span style=display:flex><span>WORKER_PURGE_OLD_ARTICLES_INTERVAL<span style=color:#f92672>=</span><span style=color:#ae81ff>1440</span>
</span></span><span style=display:flex><span>WORKER_ENRICH_ARTICLES_INTERVAL<span style=color:#f92672>=</span><span style=color:#ae81ff>60</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Worker Performance Settings</span>
</span></span><span style=display:flex><span>WORKER_TASK_TIME_LIMIT<span style=color:#f92672>=</span><span style=color:#ae81ff>300</span>
</span></span><span style=display:flex><span>WORKER_SOFT_TIME_LIMIT<span style=color:#f92672>=</span><span style=color:#ae81ff>240</span>
</span></span><span style=display:flex><span>WORKER_MAX_TASKS_PER_CHILD<span style=color:#f92672>=</span><span style=color:#ae81ff>100</span>
</span></span><span style=display:flex><span>WORKER_MAX_MEMORY_PER_CHILD<span style=color:#f92672>=</span><span style=color:#ae81ff>200000</span>
</span></span><span style=display:flex><span>WORKER_PREFETCH_MULTIPLIER<span style=color:#f92672>=</span><span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># FreshRSS and FreshRSS API Proxy Setup</span>
</span></span><span style=display:flex><span>FRESHRSS_GREADER_API_URL<span style=color:#f92672>=</span>https://freshrss.example.com/api/greader.php
</span></span><span style=display:flex><span>FRESHRSS_GREADER_API_USER<span style=color:#f92672>=</span>newsfeed
</span></span><span style=display:flex><span>FRESHRSS_GREADER_API_PASSWORD<span style=color:#f92672>=</span>your_password_here
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>FRESHRSS_PYTHON_API_HOST<span style=color:#f92672>=</span>https://freshrss.example.com
</span></span><span style=display:flex><span>FRESHRSS_PYTHON_API_USERNAME<span style=color:#f92672>=</span>newsfeed
</span></span><span style=display:flex><span>FRESHRSS_PYTHON_API_PASSWORD<span style=color:#f92672>=</span>your_password_here
</span></span><span style=display:flex><span>FRESHRSS_PYTHON_API_VERIFY_SSL<span style=color:#f92672>=</span>true
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Ollama Configuration</span>
</span></span><span style=display:flex><span>OLLAMA_URL<span style=color:#f92672>=</span>http://ollama:11434
</span></span><span style=display:flex><span>OLLAMA_MODEL<span style=color:#f92672>=</span>LLAMA3.2:3B
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Database configuration</span>
</span></span><span style=display:flex><span>POSTGRES_USER<span style=color:#f92672>=</span>postgres
</span></span><span style=display:flex><span>POSTGRES_PASSWORD<span style=color:#f92672>=</span>secure_password_here
</span></span><span style=display:flex><span>POSTGRES_DB<span style=color:#f92672>=</span>newsfeed
</span></span><span style=display:flex><span>POSTGRES_HOST<span style=color:#f92672>=</span>db
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Casdoor Configuration</span>
</span></span><span style=display:flex><span>CASDOOR_ENDPOINT<span style=color:#f92672>=</span>http://casdoor:8000
</span></span><span style=display:flex><span>CASDOOR_CLIENT_ID<span style=color:#f92672>=</span>your_client_id_here
</span></span><span style=display:flex><span>CASDOOR_CLIENT_SECRET<span style=color:#f92672>=</span>your_client_secret_here
</span></span><span style=display:flex><span>CASDOOR_ORG<span style=color:#f92672>=</span>newsfeed
</span></span><span style=display:flex><span>CASDOOR_APP_NAME<span style=color:#f92672>=</span>newsfeed
</span></span><span style=display:flex><span>CASDOOR_CERT_PUBLIC_KEY<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;-----BEGIN PUBLIC KEY-----
</span></span></span><span style=display:flex><span><span style=color:#e6db74>...
</span></span></span><span style=display:flex><span><span style=color:#e6db74>-----END PUBLIC KEY-----&#34;</span>
</span></span></code></pre></div><h2 id=environment-variable-precedence>Environment Variable Precedence
<a class=anchor href=#environment-variable-precedence>#</a></h2><p>Environment variables can be set in multiple ways, with the following precedence (highest to lowest):</p><ol><li>Docker Compose environment variables</li><li>Environment file (<code>env/backend</code>)</li><li>Default values in the code</li></ol><h2 id=sensitive-information>Sensitive Information
<a class=anchor href=#sensitive-information>#</a></h2><p>For production deployments, sensitive information such as passwords and API keys should be managed securely:</p><ol><li>Use environment variables instead of hardcoding values</li><li>Consider using Docker secrets or a secure vault service</li><li>Rotate credentials regularly</li><li>Use different credentials for development and production environments</li></ol><h2 id=debugging>Debugging
<a class=anchor href=#debugging>#</a></h2><p>When troubleshooting issues with the backend or worker services, the following environment variables can be helpful:</p><ul><li>Set <code>BACKEND_DEBUG="true"</code> to enable detailed logging</li><li>Adjust worker task limits (<code>WORKER_TASK_TIME_LIMIT</code>, <code>WORKER_SOFT_TIME_LIMIT</code>) if tasks are timing out</li><li>Modify <code>WORKER_FRESHRSS_FETCH_LIMIT</code> if you&rsquo;re experiencing performance issues during article fetching</li></ul></article><footer class=book-footer><div class="flex flex-wrap justify-between"><div><a class="flex align-center" href=https://github.com/beardedtek/newsfeed/edit/main/docs/content/docs/deployment/backend-environment.md target=_blank rel=noopener><img src=/docs/svg/edit.svg class=book-icon alt>
<span>Edit this page</span></a></div></div><script>(function(){function e(e){const t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}document.querySelectorAll("pre code").forEach(t=>{t.addEventListener("click",function(){if(window.getSelection().toString())return;e(t.parentElement),navigator.clipboard&&navigator.clipboard.writeText(t.parentElement.textContent)})})})()</script></footer><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><div class=book-toc-content><nav id=TableOfContents><ul><li><a href=#configuration-categories>Configuration Categories</a></li><li><a href=#core-configuration>Core Configuration</a></li><li><a href=#database-configuration>Database Configuration</a></li><li><a href=#redis-configuration>Redis Configuration</a></li><li><a href=#freshrss-configuration>FreshRSS Configuration</a><ul><li><a href=#freshrss-greader-api>FreshRSS GReader API</a></li><li><a href=#freshrss-python-api>FreshRSS Python API</a></li><li><a href=#freshrss-proxy-api>FreshRSS Proxy API</a></li></ul></li><li><a href=#worker-configuration>Worker Configuration</a><ul><li><a href=#task-scheduling>Task Scheduling</a></li><li><a href=#article-fetching-and-retention>Article Fetching and Retention</a></li><li><a href=#worker-performance>Worker Performance</a></li></ul></li><li><a href=#ai-configuration>AI Configuration</a></li><li><a href=#authentication-configuration>Authentication Configuration</a></li><li><a href=#example-configuration>Example Configuration</a></li><li><a href=#environment-variable-precedence>Environment Variable Precedence</a></li><li><a href=#sensitive-information>Sensitive Information</a></li><li><a href=#debugging>Debugging</a></li></ul></nav></div></aside></main></body></html>