<!doctype html><html lang=en-us dir=ltr><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="
  Continuous Integration and Deployment
  #

NewsFeed uses GitHub Actions for continuous integration and deployment (CI/CD). This page documents the CI/CD process and how to use it.

  Docker Image Publishing
  #

The main CI/CD workflow builds and publishes Docker images for the NewsFeed application. These images are published to Docker Hub and can be used for deployment.

  Images Published
  #

The workflow builds and publishes the following Docker images:"><meta name=theme-color media="(prefers-color-scheme: light)" content="#ffffff"><meta name=theme-color media="(prefers-color-scheme: dark)" content="#343a40"><meta name=color-scheme content="light dark"><meta property="og:url" content="/docs/docs/deployment/ci-cd/"><meta property="og:site_name" content="NewsFeed Documentation"><meta property="og:title" content="Continuous Integration and Deployment"><meta property="og:description" content="Continuous Integration and Deployment # NewsFeed uses GitHub Actions for continuous integration and deployment (CI/CD). This page documents the CI/CD process and how to use it.
Docker Image Publishing # The main CI/CD workflow builds and publishes Docker images for the NewsFeed application. These images are published to Docker Hub and can be used for deployment.
Images Published # The workflow builds and publishes the following Docker images:"><meta property="og:locale" content="en_us"><meta property="og:type" content="article"><meta property="article:section" content="docs"><title>Continuous Integration and Deployment | NewsFeed Documentation</title><link rel=icon href=/docs/favicon.png><link rel=manifest href=/docs/manifest.json><link rel=canonical href=/docs/docs/deployment/ci-cd/><link rel=stylesheet href=/docs/book.min.27c601ff251cc5c9796bb272aace960013cf351d0c28a7e1301487b32d4800ee.css><script defer src=/docs/fuse.min.js></script><script defer src=/docs/en.search.min.50f06386365de8f89d841b8d0b503999b6a546355a068584d4f6d56087201672.js></script></head><body dir=ltr><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><div class=book-menu-content><nav><h2 class=book-brand><a class="flex align-center" href=/docs/><img src=/docs/logo.png alt=Logo class=book-icon><span>NewsFeed Documentation</span></a></h2><div class="book-search hidden"><input type=text id=book-search-input placeholder=Search aria-label=Search maxlength=64 data-hotkeys=s/><div class="book-search-spinner hidden"></div><ul id=book-search-results></ul></div><script>document.querySelector(".book-search").classList.remove("hidden")</script><ul><li><input type=checkbox id=section-1bd881b6f3674bdbe6a5832f365e2cc1 class=toggle>
<label for=section-1bd881b6f3674bdbe6a5832f365e2cc1 class=flex><a href=/docs/docs/frontend/ class=flex-auto>Frontend Usage Guide</a></label><ul></ul></li><li><input type=checkbox id=section-e2abcc6bc653a4ad229e66aa778ea8ce class=toggle>
<label for=section-e2abcc6bc653a4ad229e66aa778ea8ce class=flex><a href=/docs/docs/admin/ class=flex-auto>Admin Dashboard Guide</a></label><ul></ul></li><li><input type=checkbox id=section-89295e3ad87cd739e9ae7938c36f5572 class=toggle>
<label for=section-89295e3ad87cd739e9ae7938c36f5572 class=flex><a href=/docs/docs/backend/ class=flex-auto>Backend API Documentation</a></label><ul></ul></li><li><input type=checkbox id=section-193dd47a9b08cf6c33639b07114fafa0 class=toggle>
<label for=section-193dd47a9b08cf6c33639b07114fafa0 class=flex><a href=/docs/docs/worker/ class=flex-auto>Worker Tasks</a></label><ul></ul></li><li><input type=checkbox id=section-ded1921c1a8aa8969511130d8fba8cc0 class=toggle>
<label for=section-ded1921c1a8aa8969511130d8fba8cc0 class=flex><a href=/docs/docs/authentication/ class=flex-auto>Authentication</a></label><ul></ul></li><li><input type=checkbox id=section-83334284bc70767f5442a76139afa498 class=toggle checked>
<label for=section-83334284bc70767f5442a76139afa498 class=flex><a href=/docs/docs/deployment/ class=flex-auto>Deployment Guides</a></label><ul><li><a href=/docs/docs/deployment/docker-optimizations/>Docker Optimizations</a></li><li><a href=/docs/docs/deployment/runtime-environment/>Frontend Environment Variables</a></li><li><a href=/docs/docs/deployment/backend-environment/>Backend Environment Variables</a></li><li><a href=/docs/docs/deployment/nginx-configuration/>Nginx Configuration</a></li><li><a href=/docs/docs/deployment/ci-cd/ class=active>Continuous Integration and Deployment</a></li><li><a href=/docs/docs/deployment/git-hooks/>Git Hooks</a></li></ul></li><li><input type=checkbox id=section-f665c998950cb6dbc3aa497165a99b48 class=toggle>
<label for=section-f665c998950cb6dbc3aa497165a99b48 class=flex><a href=/docs/docs/platforms/ class=flex-auto>Platform-Specific Guides</a></label><ul></ul></li></ul></nav><script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script></div></aside><div class=book-page><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><img src=/docs/svg/menu.svg class=book-icon alt=Menu></label><h3>Continuous Integration and Deployment</h3><label for=toc-control><img src=/docs/svg/toc.svg class=book-icon alt="Table of Contents"></label></div><aside class="hidden clearfix"><nav id=TableOfContents><ul><li><a href=#docker-image-publishing>Docker Image Publishing</a><ul><li><a href=#images-published>Images Published</a></li><li><a href=#tags>Tags</a></li></ul></li><li><a href=#workflow-triggers>Workflow Triggers</a></li><li><a href=#using-the-published-images>Using the Published Images</a></li><li><a href=#setting-up-cicd-for-your-fork>Setting Up CI/CD for Your Fork</a><ul><li><a href=#creating-a-docker-hub-access-token>Creating a Docker Hub Access Token</a></li><li><a href=#adding-secrets-to-github>Adding Secrets to GitHub</a></li></ul></li><li><a href=#customizing-the-cicd-workflow>Customizing the CI/CD Workflow</a></li><li><a href=#automated-deployments>Automated Deployments</a></li></ul></nav></aside></header><article class="markdown book-article"><h1 id=continuous-integration-and-deployment>Continuous Integration and Deployment
<a class=anchor href=#continuous-integration-and-deployment>#</a></h1><p>NewsFeed uses GitHub Actions for continuous integration and deployment (CI/CD). This page documents the CI/CD process and how to use it.</p><h2 id=docker-image-publishing>Docker Image Publishing
<a class=anchor href=#docker-image-publishing>#</a></h2><p>The main CI/CD workflow builds and publishes Docker images for the NewsFeed application. These images are published to Docker Hub and can be used for deployment.</p><h3 id=images-published>Images Published
<a class=anchor href=#images-published>#</a></h3><p>The workflow builds and publishes the following Docker images:</p><ul><li><code>beardedtek/newsfeed-nginx</code> - The Nginx service with documentation</li><li><code>beardedtek/newsfeed</code> - The frontend service</li><li><code>beardedtek/newsfeed-backend</code> - The backend service</li></ul><h3 id=tags>Tags
<a class=anchor href=#tags>#</a></h3><p>Each image is tagged with:</p><ul><li><code>:latest</code> - For the default branch (main)</li><li><code>:&lt;branch></code> - The branch name (e.g., <code>main</code>, <code>develop</code>)</li><li><code>:&lt;commit></code> - The short SHA of the commit</li></ul><p>This allows you to use specific versions of the images in your deployment, or always use the latest version.</p><h2 id=workflow-triggers>Workflow Triggers
<a class=anchor href=#workflow-triggers>#</a></h2><p>The CI/CD workflow is triggered on:</p><ul><li>Push to <code>main</code> or <code>develop</code> branches</li><li>Pull requests to <code>main</code> or <code>develop</code> branches</li><li>Push of version tags (e.g., <code>v1.0.0</code>)</li></ul><p>Images are only pushed to Docker Hub on push events, not on pull requests. This ensures that only approved changes are published.</p><h2 id=using-the-published-images>Using the Published Images
<a class=anchor href=#using-the-published-images>#</a></h2><p>To use the published images in your deployment, you can reference them in your <code>docker-compose.yml</code> file:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#f92672>services</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>nginx</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>image</span>: <span style=color:#ae81ff>beardedtek/newsfeed-nginx:latest</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># ...</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>frontend</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>image</span>: <span style=color:#ae81ff>beardedtek/newsfeed:latest</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># ...</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>backend</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>image</span>: <span style=color:#ae81ff>beardedtek/newsfeed-backend:latest</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># ...</span>
</span></span></code></pre></div><p>For production deployments, it&rsquo;s recommended to use a specific version tag instead of <code>latest</code>:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#f92672>services</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>nginx</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>image</span>: <span style=color:#ae81ff>beardedtek/newsfeed-nginx:v1.0.0</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># ...</span>
</span></span></code></pre></div><h2 id=setting-up-cicd-for-your-fork>Setting Up CI/CD for Your Fork
<a class=anchor href=#setting-up-cicd-for-your-fork>#</a></h2><p>If you fork the NewsFeed repository, you&rsquo;ll need to set up the following secrets in your GitHub repository to enable the CI/CD workflow:</p><ol><li><code>DOCKERHUB_USERNAME</code> - Your Docker Hub username</li><li><code>DOCKERHUB_TOKEN</code> - A Docker Hub access token (not your password)</li></ol><h3 id=creating-a-docker-hub-access-token>Creating a Docker Hub Access Token
<a class=anchor href=#creating-a-docker-hub-access-token>#</a></h3><ol><li>Log in to <a href=https://hub.docker.com/>Docker Hub</a></li><li>Go to Account Settings > Security</li><li>Click &ldquo;New Access Token&rdquo;</li><li>Give it a name (e.g., &ldquo;GitHub Actions&rdquo;)</li><li>Copy the token and add it as a secret in your GitHub repository</li></ol><h3 id=adding-secrets-to-github>Adding Secrets to GitHub
<a class=anchor href=#adding-secrets-to-github>#</a></h3><ol><li>Go to your GitHub repository</li><li>Click on &ldquo;Settings&rdquo; > &ldquo;Secrets and variables&rdquo; > &ldquo;Actions&rdquo;</li><li>Click &ldquo;New repository secret&rdquo;</li><li>Add the following secrets:<ul><li>Name: <code>DOCKERHUB_USERNAME</code>, Value: Your Docker Hub username</li><li>Name: <code>DOCKERHUB_TOKEN</code>, Value: Your Docker Hub access token</li></ul></li></ol><h2 id=customizing-the-cicd-workflow>Customizing the CI/CD Workflow
<a class=anchor href=#customizing-the-cicd-workflow>#</a></h2><p>The CI/CD workflow is defined in the <code>.github/workflows/docker-publish.yml</code> file. You can customize it to suit your needs, such as:</p><ul><li>Adding more branches to the trigger list</li><li>Changing the tag format</li><li>Adding more Docker images</li><li>Adding build arguments</li><li>Configuring additional platforms (e.g., for multi-architecture builds)</li></ul><h2 id=automated-deployments>Automated Deployments
<a class=anchor href=#automated-deployments>#</a></h2><p>Currently, the CI/CD workflow only builds and publishes Docker images. It does not automatically deploy them to any environment. You can extend the workflow to deploy to your environment by adding additional steps to the workflow.</p><p>For example, to deploy to a server using SSH:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span>- <span style=color:#f92672>name</span>: <span style=color:#ae81ff>Deploy to production</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>if</span>: <span style=color:#ae81ff>github.ref == &#39;refs/heads/main&#39;</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>uses</span>: <span style=color:#ae81ff>appleboy/ssh-action@master</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>with</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>host</span>: <span style=color:#ae81ff>${{ secrets.SSH_HOST }}</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>username</span>: <span style=color:#ae81ff>${{ secrets.SSH_USERNAME }}</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>key</span>: <span style=color:#ae81ff>${{ secrets.SSH_PRIVATE_KEY }}</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>script</span>: |<span style=color:#e6db74>
</span></span></span><span style=display:flex><span><span style=color:#e6db74>      cd /path/to/newsfeed
</span></span></span><span style=display:flex><span><span style=color:#e6db74>      docker-compose pull
</span></span></span><span style=display:flex><span><span style=color:#e6db74>      docker-compose up -d</span>
</span></span></code></pre></div><p>This would require additional secrets:</p><ul><li><code>SSH_HOST</code> - The hostname or IP address of your server</li><li><code>SSH_USERNAME</code> - The username to use for SSH</li><li><code>SSH_PRIVATE_KEY</code> - The private key to use for SSH authentication</li></ul></article><footer class=book-footer><div class="flex flex-wrap justify-between"><div><a class="flex align-center" href=https://github.com/beardedtek/newsfeed/edit/main/docs/content/docs/deployment/ci-cd.md target=_blank rel=noopener><img src=/docs/svg/edit.svg class=book-icon alt>
<span>Edit this page</span></a></div></div><script>(function(){function e(e){const t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}document.querySelectorAll("pre code").forEach(t=>{t.addEventListener("click",function(){if(window.getSelection().toString())return;e(t.parentElement),navigator.clipboard&&navigator.clipboard.writeText(t.parentElement.textContent)})})})()</script></footer><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><div class=book-toc-content><nav id=TableOfContents><ul><li><a href=#docker-image-publishing>Docker Image Publishing</a><ul><li><a href=#images-published>Images Published</a></li><li><a href=#tags>Tags</a></li></ul></li><li><a href=#workflow-triggers>Workflow Triggers</a></li><li><a href=#using-the-published-images>Using the Published Images</a></li><li><a href=#setting-up-cicd-for-your-fork>Setting Up CI/CD for Your Fork</a><ul><li><a href=#creating-a-docker-hub-access-token>Creating a Docker Hub Access Token</a></li><li><a href=#adding-secrets-to-github>Adding Secrets to GitHub</a></li></ul></li><li><a href=#customizing-the-cicd-workflow>Customizing the CI/CD Workflow</a></li><li><a href=#automated-deployments>Automated Deployments</a></li></ul></nav></div></aside></main></body></html>